hadamard_arr_12 = [[1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                   [1, 1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1],
                   [1, 1, 1, -1, 1, -1, -1, -1, 1, 1, 1, -1],
                   [1, -1, 1, 1, -1, 1, -1, -1, -1, 1, 1, 1],
                   [1, 1, -1, 1, 1, -1, 1, -1, -1, -1, 1, 1],
                   [1, 1, 1, -1, 1, 1, -1, 1, -1, -1, -1, 1],
                   [1, 1, 1, 1, -1, 1, 1, -1, 1, -1, -1, -1],
                   [1, -1, 1, 1, 1, -1, 1, 1, -1, 1, -1, -1],
                   [1, -1, -1, 1, 1, 1, -1, 1, 1, -1, 1, -1],
                   [1, -1, -1, -1, 1, 1, 1, -1, 1, 1, -1, 1],
                   [1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1, -1],
                   [1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1]
                   ]

hadamard_arr_4 = [[1, 1, 1, 1],
                  [1, -1, 1, -1],
                  [1, 1, -1, -1],
                  [1, -1, -1, 1]
                  ]


def had_order_n(n: int):
    if n == 4:
        return hadamard_arr_4
    elif n == 12:
        return hadamard_arr_12
    assert n % 8 == 0
    H_half = had_order_n(n // 2)
    top = [row + row for row in H_half]
    bottom = [row + [-x for x in row] for row in H_half]
    return top + bottom

